<h2>Profiles list</h2>
<nz-table
  #headerTable
  [nzData]="profilesData"
  [nzPageSize]="50"
  [nzBordered]="true"
  [nzShowSizeChanger]="true"
  [nzScroll]="{ y: '240px' }"
  >
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome</th>
      <th>Email</th>
      <th>Perfil</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    @for (data of profilesData; track data.id) {
    <tr>
      <td>{{ data.id }}</td>
      <td>{{ data.nome }}</td>
      <td>{{ data.email }}</td>
      <td>{{ data.perfil }}</td>
      <td id="icons">
        <button (click)="showModal(data)">
          <nz-icon nzType="edit" />
        </button>
        <button id="deleteButton" (click)="deleteUser(data.id)">
          <nz-icon nzType="delete" />
        </button>
      </td>
    </tr>
    }
  </tbody></nz-table
>

<nz-modal
  [(nzVisible)]="isVisible"
  [nzTitle]="modalTitle"
  [nzContent]="modalContent"
  [nzFooter]="null"
  (nzOnCancel)="handleCancel()"
>
  <ng-template #modalTitle>Editar Usuario</ng-template>

  <ng-template #modalContent>
    <app-edit-usuario (closeModal)="handleCancel()" [userEdit]="selectedUser" />
  </ng-template>
</nz-modal>
